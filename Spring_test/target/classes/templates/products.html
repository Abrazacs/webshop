<!DOCTYPE html>
<html xmlns: th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <title>Products List</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>

<ul class="nav nav-pills">
    <li class="nav-item">
        <a class="nav-link active" aria-current="page" href="#">Products</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="/test/">Main page</a>
    </li>
    <li class="nav-item">
        <div sec:authorize="hasRole('ADMIN')">
            <a class="nav-link" href="/test/admin">Admin panel</a>
        </div>
    </li>
</ul>


<br>
<br>

<table class="table">
    <thead class="table-dark">
    <tr>
        <th scope="col">Id</th>
        <th scope="col">Наименование</th>
        <th scope="col">Цена</th>
        <th scope="col">Количество</th>
    </tr>
    </thead>
<tr th:each="product : ${productList}">
    <td th:text="${product.id}"/>
    <td th:text="${product.name}"/>
    <td th:text="${product.price}"/>
    <td>
        <form id="prodQty" th:action="@{/products}" th:method="POST">
            <input hidden id="cart" name="cartId" th:value="${cartId}">
            <input hidden id="productId" name="productId" th:value="${product.id}">
            <input id="qty" name="quantity" type="number" min="0">
            <input type="submit" value="add to cart">
        </form>
    </td>
</tr>
</table>


</html>